{"version":3,"sources":["constants.js","components/common/SalePrice.js","components/Account/index.js","components/Box/index.js","util.js","components/Log/index.js","components/App/index.js","index.js"],"names":["DEFAULT_DECIMALS","web3Provider","web3","window","currentProvider","src","HttpProvider","networkCallbacks","onNetworkUpdate","callback","push","connectWallet","_connectWallet","apply","this","arguments","_callee","errorMessage","regenerator_default","a","wrap","_context","prev","next","bundle","ethereum","enable","alert","Error","map","c","stop","toUnitAmount","baseAmount","tokenContract","length","undefined","decimals","bignumber_default","toString","div","pow","SalePrice_SalePrice","order","props","currentPrice","paymentTokenContract","price","priceLabel","parseFloat","toLocaleString","minimumSignificantDigits","isETH","symbol","react_default","createElement","SpanSalePrice","Component","styled_components_browser_esm","span","_templateObject","Account_Account","_this$props","account","showImage","_username","user","username","_address","address","displayName","substring","MAX_ADDR_LEN","toUpperCase","target","rel","href","concat","style","backgroundImage","image","Box_Box","state","display","left","top","creatingOrder","accountAddress","setState","console","log","asset","tokenId","tokenAddress","seaport","createBuyOrder","startAmount","onError","t0","error","_this2","message","setTimeout","_this3","canAccept","_this$state","buyAsset","Box_asyncToGenerator","_callee2","event","_context2","stopPropagation","preventDefault","abrupt","es5","fulfillOrder","_x","_ref","disabled","onClick","className","type","_this4","artList","orders","_this$state2","changeActive","_callee3","pos","rect","leftPos","topPos","_context3","getBoundingClientRect","find","v","String","_x2","_x3","_ref2","BoxDiv","alt","i","id","key","background","color","onMouseOver","e","name","makerAccount","description","renderBuyButton","Box_templateObject","generateBoxes","result","num","ary","start","startPoint","j","foot","footEnd","k","getFinalSort","arr","hexToRgb","hex","rgb","parseInt","slice","calcGradient","startColor","endColor","step","r","g","b","sColor","eColor","rStep","gStep","bStep","gradientColorArr","Array","Math","abs","join","Log_Log","total","side","onlyBundles","page","loading","fetchData","colorArr","api","getOrders","owner","limit","count","text","fullscreen","App_App","App","_this","App_classCallCheck","App_possibleConstructorReturn","App_getPrototypeOf","call","onChangeAddress","lib","networkName","Main","eth","getAccounts","err","res","gtag","dataLayer","Date","react_dom_default","render","document","getElementById"],"mappings":"ihBAIO,IAGMA,EAAmB,GACrBC,EAA+B,qBAATC,KAC7BC,OAAOD,KAAKE,gBACZ,IAAIC,EAAA,UAAeC,aAAa,6BAG9BC,KACOC,EAAkB,SAACC,GAC9BF,EAAiBG,KAAKD,IAGjB,SAAeE,IAAtB,OAAAC,EAAAC,MAAAC,KAAAC,4CAAO,SAAAC,IAAA,IAAAC,EAAA,OAAAC,EAAAC,EAAAC,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UACApB,OAAOD,KADP,CAAAmB,EAAAE,KAAA,QAEHtB,EAAe,IAAIuB,EAAA,mBAFhBH,EAAAE,KAAA,oBAKMpB,OAAOsB,SALb,CAAAJ,EAAAE,KAAA,eAAAF,EAAAE,KAAA,EAMGpB,OAAOsB,SAASC,SANnB,OAAAL,EAAAE,KAAA,sBAQGN,EAAe,6KACrBU,MAAMV,GACA,IAAIW,MAAMX,GAVb,QAYLV,EAAiBsB,IAAI,SAACC,GAAD,OAAOA,EAAE7B,KAZzB,yBAAAoB,EAAAU,SAAAf,EAAAF,gCAeA,SAASkB,EAAaC,GAAkC,IAAtBC,EAAsBnB,UAAAoB,OAAA,QAAAC,IAAArB,UAAA,GAAAA,UAAA,GAAN,KACjDsB,EAAWH,GAA2C,MAA1BA,EAAcG,SAC5CH,EAAcG,SACdrC,EAGJ,OADiB,IAAIsC,EAAAnB,EAAUc,EAAWM,YAC1BC,IAAI,IAAIF,EAAAnB,EAAU,IAAIsB,IAAIJ,+6BClCvBK,kOAKV,IACCC,EAAU7B,KAAK8B,MAAfD,MACAE,EAAuCF,EAAvCE,aAAcC,EAAyBH,EAAzBG,qBAChBC,EAAQf,EAAaa,EAAcC,GACnCE,EAAaC,WAAWF,GAAOG,oBAAed,GAAae,yBAA0B,IACrFC,EAAwC,QAAhCN,EAAqBO,OAEnC,OACEC,EAAAnC,EAAAoC,cAACC,EAAD,KACGJ,EACG,SACA,KAEHJ,EALH,IAKgBI,EAAQ,KAAON,EAAqBO,oNAlBnBC,EAAAnC,EAAMsC,WAwBvCD,EAAgBE,EAAA,EAAOC,KAAvBC,+vBC1BN,IAEqBC,kOAYV,IAAAC,EACwBhD,KAAK8B,MAA5BmB,EADDD,EACCC,QAASC,EADVF,EACUE,UACXC,EAAYF,EAAQG,KACtBH,EAAQG,KAAKC,SACb,KACEC,EAAWL,EAAQM,QACnBC,EAAcL,GAAwBG,EAASG,UAAU,EAAGC,GAAkBC,cAEpF,OACEnB,EAAAnC,EAAAoC,cAAA,KAAGmB,OAAO,SAASC,IAAI,sBAAsBC,KAAA,GAAAC,OFrBxB,qBEqBwB,cAAAA,OAAiCT,IAC3EJ,GAAaD,EACVT,EAAAnC,EAAAoC,cAAA,OAAKuB,OAAQC,gBAAgB,QAAQhB,EAAQiB,MAAM,QACnD,KAEJ1B,EAAAnC,EAAAoC,cAAA,YAAOe,gNA1BsBhB,EAAAnC,EAAMsC,m3HCGtBwB,qRAMnBC,OACEC,QAAS,OACTC,KAAM,EACNC,IAAK,EACL1C,WAAOP,EACPnB,aAAc,KACdqE,eAAe,8KAIP3C,EAAU7B,KAAKoE,MAAfvC,MACF4C,EAAmBzE,KAAK8B,MAAxB2C,+CAEE5E,qCACC,0BAGPG,KAAK0E,UAAWF,eAAe,IAC/BG,QAAQC,IAAI/C,EAAO4C,EAAgB,cAE3B1C,EAAyEF,EAAzEE,aAAcC,EAA2DH,EAA3DG,uBAA2DH,EAArCgD,MAASC,YAASC,iBACvD9C,EAAQf,EAAaa,EAAcC,aACpChC,KAAK8B,MAAMkD,QAAQC,gBACvBJ,OACEC,UACAC,gBAEFN,iBACAS,YAAa/C,WAAWF,+DAG1BjC,KAAKmF,QAAL5E,EAAA6E,6BAEApF,KAAK0E,UAAWF,eAAe,0JAI3Ba,GAAO,IAAAC,EAAAtF,KAGb,MAFAA,KAAK0E,UAAWvE,aAAckF,EAAME,UACpCC,WAAW,kBAAMF,EAAKZ,UAAUvE,aAAc,QAAQ,KAChDkF,4CAG0B,IAAAI,EAAAzF,KAAlB0F,IAAkBzF,UAAAoB,OAAA,QAAAC,IAAArB,UAAA,KAAAA,UAAA,GAAA0F,EACC3F,KAAKoE,MAA9BI,EADwBmB,EACxBnB,cAAe3C,EADS8D,EACT9D,MACf4C,EAAmBzE,KAAK8B,MAAxB2C,eACFmB,mBAAAC,EAAAzF,EAAAC,EAAAuF,KAAW,SAAAE,EAAOC,GAAP,OAAA3F,EAAAC,EAAAC,KAAA,SAAA0F,GAAA,cAAAA,EAAAxF,KAAAwF,EAAAvF,MAAA,UACfsF,EAAME,kBACNF,EAAMG,iBACD7G,OAAOsB,SAHG,CAAAqF,EAAAvF,KAAA,eAAAuF,EAAAG,OAAA,SAINC,EAAA,WAAWvF,MAAM,yFAAyB,6BAJpC,WAMX4D,GAAmBiB,EANR,CAAAM,EAAAvF,KAAA,eAObgF,EAAKf,UACHvE,aAAc,gCARH6F,EAAAG,OAAA,iBAYfV,EAAKY,eAZU,wBAAAL,EAAA/E,SAAA6E,EAAA9F,SAAX,gBAAAsG,GAAA,OAAAC,EAAAxG,MAAAC,KAAAC,YAAA2F,GAcN,OACEpD,EAAAnC,EAAAoC,cAAC2D,EAAA,QACCI,SAAUhC,EACViC,QAASb,EACTc,UAAU,MACVC,KAAK,WAJP,MAMMnC,EAAgB,MAAQ,GAN9B,QAMuC3C,GAASW,EAAAnC,EAAAoC,cAACb,GAAUC,MAAOA,sCAM7D,IAAA+E,EAAA5G,KAAAgD,EACqBhD,KAAK8B,MAAzB+E,EADD7D,EACC6D,QAASC,EADV9D,EACU8D,OADVC,EAE+B/G,KAAKoE,MAAnCC,EAFD0C,EAEC1C,QAASC,EAFVyC,EAEUzC,KAAMC,EAFhBwC,EAEgBxC,IAAK1C,EAFrBkF,EAEqBlF,MAEtBmF,mBAAAnB,EAAAzF,EAAAC,EAAA2G,KAAe,SAAAC,EAAQC,EAAKnB,GAAb,IAAAoB,EAAA9C,EAAA+C,EAAAC,EAAAxF,EAAA,OAAAzB,EAAAC,EAAAC,KAAA,SAAAgH,GAAA,cAAAA,EAAA9G,KAAA8G,EAAA7G,MAAA,OACnBsF,EAAME,kBACAkB,EAAOpB,EAAMnC,OAAO2D,wBACpBlD,EAAU,QACV+C,EAAUD,EAAK7C,KAAO,GAAK,KAC3B+C,EAASF,EAAK5C,IAAM,IAAM,KAE1B1C,EAAQiF,GAAUA,EAAOU,KAAK,SAAAC,GAAA,OAAKA,EAAE5C,MAAMC,UAAY4C,OAAOR,KACpEN,EAAKlC,UACHL,UACAC,KAAM8C,EACN7C,IAAK8C,EACLxF,UAZiB,wBAAAyF,EAAArG,SAAAgG,EAAAjH,SAAf,gBAAA2H,EAAAC,GAAA,OAAAC,EAAA9H,MAAAC,KAAAC,YAAA+G,GAsBN,OACExE,EAAAnC,EAAAoC,cAACqF,EAAD,KACEtF,EAAAnC,EAAAoC,cAAA,OAAKiE,UAAU,SAASD,QARR,WAClBG,EAAKlC,UACHL,QAAS,WAOP7B,EAAAnC,EAAAoC,cAAA,cACED,EAAAnC,EAAAoC,cAAA,OAAKiE,UAAU,QACflE,EAAAnC,EAAAoC,cAAA,OAAKiE,UAAU,QACblE,EAAAnC,EAAAoC,cAAA,OAAKlD,IAAI,YAAYwI,IAAI,WAG7BvF,EAAAnC,EAAAoC,cAAA,OAAKiE,UAAU,iBACblE,EAAAnC,EAAAoC,cAAA,MAAIiE,UAAU,SACbG,EAAQ9F,IAAI,SAAC0G,EAAGO,GACf,OAAOxF,EAAAnC,EAAAoC,cAAA,MAAIwF,GAAA,MAAAlE,OAAU0D,EAAEP,KAAOgB,IAAKF,EAAGhE,OAAQmE,WAAYV,EAAEW,OAAQC,YAAc,SAAAC,GAAA,OAAKtB,EAAaS,EAAEP,IAAKoB,UAI/G9F,EAAAnC,EAAAoC,cAAA,OAAKiE,UAAU,YAAY1C,OAAQK,QAASA,EAASC,OAAMC,QACzD/B,EAAAnC,EAAAoC,cAAA,OAAKiE,UAAU,OACblE,EAAAnC,EAAAoC,cAAA,OAAKiE,UAAU,aAEb7E,EACAW,EAAAnC,EAAAoC,cAAA,UACED,EAAAnC,EAAAoC,cAAA,MAAIiE,UAAU,QACb7E,EAAMgD,MAAM0D,KADb,KACqB1G,EAAMgD,MAAMC,SAEjCtC,EAAAnC,EAAAoC,cAAA,wBACaD,EAAAnC,EAAAoC,cAACM,GAAQE,QAASpB,EAAM2G,gBAErChG,EAAAnC,EAAAoC,cAAA,MAAIiE,UAAU,QAAd,gBACelE,EAAAnC,EAAAoC,cAAA,SAAIZ,EAAMgD,MAAM4D,eAGjCjG,EAAAnC,EAAAoC,cAAA,0CAECzC,KAAK0I,mOA3IWlG,EAAAnC,EAAMsC,WAqJjCmF,EAASlF,EAAA,EAAOlB,IAAhBiH,GC7JC,SAASC,IAId,IAHA,IAAIC,EAgBC,SAAsBC,GAE3B,IADA,IAAIC,KACKf,EAAI,EAAGA,EAAI,GAAIA,IACtBe,EAAIf,MAIN,IAFA,IAAIgB,EAAQ,EAEHhB,EAAI,EAAGA,EAAI,EAAIc,EAAKd,IAC3B,GAAIA,GAAKc,EAGP,IAFA,IAAIG,EAAajB,EAAI,EAEZkB,EAAI,EAAGA,EAAIlB,EAAGkB,IACrBH,EAAIE,KAAcC,GAAKF,SAMzB,IAHA,IAAIG,EAAOL,EAAM,EACbM,EAAUpB,EAAIc,EAETO,EAAI,EAAGA,EAAI,EAAIP,EAAMd,EAAGqB,IAC3BP,EAAM,IAAM,EAEVd,EAAI,IAAM,EAEZe,EAAII,KAAQC,KAAaJ,IAEzBD,EAAIK,KAAWD,KAAUH,IAElBF,EAAM,IAAM,IACjBd,EAAI,IAAM,EACZe,EAAII,KAAQC,KAAaJ,IAEzBD,EAAIK,KAAWD,KAAUH,KAOnC,IAAK,IAAIhB,EAAI,EAAGA,EAAIc,EAAKd,IACvB,IAAK,IAAIkB,EAAI,EAAGA,EAAIJ,EAAKI,KAI3B,OAAOH,EA3DMO,CAAa,IAEtBC,KACKvB,EAAI,EAAGA,EAAIa,EAAOxH,OAAQ2G,IACjC,IAAK,IAAIkB,EAAI,EAAGA,EAAIL,EAAOb,GAAG3G,OAAQ6H,IAAK,CACzC,IAAIhC,EAAM2B,EAAOb,GAAGkB,GAGpBK,EAAI3J,MAAOsH,QAKf,OAAOqC,EAwDF,SAASC,EAASC,GAEvB,IADA,IAAIC,KACK1B,EAAI,EAAGA,EAAI,EAAGA,GAAK,EAC1B0B,EAAI9J,KAAK+J,SAAS,KAAOF,EAAIG,MAAM5B,EAAGA,EAAI,KAE5C,OAAO0B,EAIF,SAASG,EAAaC,EAAYC,EAAUC,GAWjD,IATA,IAjBuBC,EAAGC,EAAGC,EACzBV,EAgBAW,EAASZ,EAASM,GACpBO,EAASb,EAASO,GAGhBO,GAASD,EAAO,GAAKD,EAAO,IAAMJ,EAClCO,GAASF,EAAO,GAAKD,EAAO,IAAMJ,EAClCQ,GAASH,EAAO,GAAKD,EAAO,IAAMJ,EAElCS,KACKzC,EAAI,EAAGA,EAAIgC,EAAMhC,IAExByC,EAAiB7K,MA5BIqK,EA8BjBN,SAASW,EAAQtC,EAAIoC,EAAO,IA9BRF,EA+BpBP,SAASY,EAAQvC,EAAIoC,EAAO,IA/BLD,EAgCvBR,SAASa,EAAQxC,EAAIoC,EAAO,SA/B9BX,KAAQQ,GAAK,GAAOC,GAAK,EAAKC,GAAG1I,SAAS,IACvC,IAAM,IAAIiJ,MAAMC,KAAKC,IAAInB,EAAIpI,OAAS,IAAIwJ,KAAK,KAAOpB,IAkC7D,OAAOgB,kwBC9FYK,sRAMnB1G,OACEyC,WACAC,YAAQxF,EACRyJ,MAAO,EACPC,UAAM1J,EACN2J,aAAa,EACbC,KAAM,EACNC,SAAS,8EAITnL,KAAKoL,mJAIDvE,EAAU+B,IAEVyC,EAAWxB,EAAa,UAAW,UAAW,IAElDhD,EAAUA,EAAQ9F,IAAI,SAAA0G,GAEpB,OADAA,EAAEW,MAAQiD,EAAS5D,EAAEP,IAAM,GACpBO,IAGTzH,KAAK0E,UAAWmC,8BAGkB7G,KAAK8B,MAAMkD,QAAQsG,IAAIC,WACrDC,MAAO,6CACPR,KAAMhL,KAAKoE,MAAM4G,KACjBS,MAAO,KAONzL,KAAKoE,MAAM8G,sBAVNpE,WAAQ4E,UAYlB1L,KAAK0E,UAAWoC,SAAQiE,MAAOW,EAAOP,SAAS,sDAE7CxG,QAAQC,IAARrE,EAAA6E,GAAmB,oBACnBpF,KAAK0E,UAAWyG,SAAS,GAAS,WAChC/E,EAAA,QAAQf,MAAM,8aAKX,IAAAM,EAC8B3F,KAAKoE,MAAlC0C,EADDnB,EACCmB,OAAQD,EADTlB,EACSkB,QAASsE,EADlBxF,EACkBwF,QACjB1G,EAAmBzE,KAAK8B,MAAxB2C,eACR,OACEjC,EAAAnC,EAAAoC,cAAA,OAAKwF,GAAG,OACNzF,EAAAnC,EAAAoC,cAAC2D,EAAA,SAAQM,UAAWI,GAAU,cAAe6E,KAAK,8BAA8BC,YAAY,EAAMT,QAASA,GAC3G3I,EAAAnC,EAAAoC,cAAC0B,GAAI0C,QAASA,EAASC,OAAQA,EAAQ9B,QAAShF,KAAK8B,MAAMkD,QAASP,eAAgBA,kNA5D3DjC,EAAAnC,EAAMsC,8xBCDlBkJ,eAMnB,SAAAC,EAAYhK,GAAO,IAAAiK,EAAA,mGAAAC,CAAAhM,KAAA8L,IACjBC,EAAAE,GAAAjM,KAAAkM,GAAAJ,GAAAK,KAAAnM,KAAM8B,KALRsC,OACEK,eAAgB,MAGCsH,EAMnBK,gBAAkB,WAChBL,EAAK/G,QAAU,IAAIqH,GAAA,YAAYlN,GAC7BmN,YAAaD,GAAA,QAAQE,OAEvBR,EAAK3M,KAAO2M,EAAK/G,QAAQ5F,KACzB2M,EAAK3M,KAAKoN,IAAIC,YAAY,SAACC,EAAKC,GAC9BZ,EAAKrH,UACHD,eAAgBkI,EAAI,QAXxBZ,EAAKK,kBACL1M,EAAgBqM,EAAKK,iBAHJL,0DAmBjB,OACEvJ,EAAAnC,EAAAoC,cAAA,WACED,EAAAnC,EAAAoC,cAAA,YACED,EAAAnC,EAAAoC,cAACqI,IACC9F,QAAShF,KAAKgF,QACdP,eAAgBzE,KAAKoE,MAAMK,kBAE/BjC,EAAAnC,EAAAoC,cAAA,gOAhCyBD,EAAAnC,EAAMsC,WCK5BiK,kBAAT,WAAgBvN,OAAOwN,UAAUjN,KAAKK,aADtCZ,OAAOwN,UAAYxN,OAAOwN,cAE1BD,GAAK,KAAM,IAAIE,MACfF,GAAK,SPR4B,kBOcnCG,EAAA1M,EAAS2M,OAAOxK,EAAAnC,EAAAoC,cAACoJ,GAAD,MAASoB,SAASC,eAAe","file":"static/js/main.fc97676a.chunk.js","sourcesContent":["import * as Web3 from 'web3'\nimport BigNumber from 'bignumber.js'\nimport { PortisProvider } from 'portis'\n\nexport const GOOGLE_ANALYTICS_ID = 'UA-111688253-4'\nexport const OPENSEA_URL = \"https://opensea.io\"\nexport const OPENSEA_JS_URL = \"https://github.com/ProjectOpenSea/opensea-js\"\nexport const DEFAULT_DECIMALS = 18\nexport let web3Provider = typeof web3 !== 'undefined'\n  ? window.web3.currentProvider\n  : new Web3.providers.HttpProvider('https://mainnet.infura.io')\n\n// Replace this with Redux for more complex logic\nconst networkCallbacks = []\nexport const onNetworkUpdate = (callback) => {\n  networkCallbacks.push(callback)\n}\n\nexport async function connectWallet() {\n  if (!window.web3) {\n    web3Provider = new PortisProvider({\n      // Put your Portis API key here\n    })\n  } else if (window.ethereum) {\n    await window.ethereum.enable()\n  } else {\n    const errorMessage = 'You need an Ethereum wallet to interact with this marketplace. Unlock your wallet, get MetaMask.io or Portis on desktop, or get Trust Wallet or Coinbase Wallet on mobile.'\n    alert(errorMessage)\n    throw new Error(errorMessage)\n  }\n  networkCallbacks.map((c) => c(web3Provider))\n}\n\nexport function toUnitAmount(baseAmount, tokenContract = null) {\n  const decimals = tokenContract && tokenContract.decimals != null\n    ? tokenContract.decimals\n    : DEFAULT_DECIMALS\n\n  const amountBN = new BigNumber(baseAmount.toString())\n  return amountBN.div(new BigNumber(10).pow(decimals))\n}\n\nexport function toBaseUnitAmount(unitAmount, tokenContract = null) {\n  const decimals = tokenContract && tokenContract.decimals != null\n    ? tokenContract.decimals\n    : DEFAULT_DECIMALS\n\n  const amountBN = new BigNumber(unitAmount.toString())\n  return amountBN.times(new BigNumber(10).pow(decimals))\n}\n\nexport async function promisify(inner) {\n  return new Promise((resolve, reject) =>\n    inner((err, res) => {\n      if (err) { reject(err) }\n      resolve(res)\n    })\n  )\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport PropTypes from 'prop-types'\nimport { toUnitAmount } from '../../constants';\n\nexport default class SalePrice extends React.Component {\n  static propTypes = {\n    order: PropTypes.object.isRequired\n  }\n\n  render() {\n    const { order } = this.props\n    const { currentPrice, paymentTokenContract } = order\n    const price = toUnitAmount(currentPrice, paymentTokenContract)\n    const priceLabel = parseFloat(price).toLocaleString(undefined, { minimumSignificantDigits: 1 })\n    const isETH = paymentTokenContract.symbol === \"ETH\"\n\n    return (\n      <SpanSalePrice>\n        {isETH\n          ? \"Ξ\"\n          : null\n        }\n        {priceLabel} {isETH ? null : paymentTokenContract.symbol}\n      </SpanSalePrice>\n    )\n  }\n}\n\nconst SpanSalePrice = styled.span`\n  img {\n    height: 15px !important;\n  }\n`","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { OPENSEA_URL } from '../../constants';\nconst MAX_ADDR_LEN = 6\n\nexport default class Account extends React.Component {\n\n  static propTypes = {\n    account: PropTypes.shape({\n      address: PropTypes.string.isRequired,\n      user: PropTypes.shape({\n        username: PropTypes.string.isRequired\n      })\n    }).isRequired,\n    showImage: PropTypes.bool\n  }\n\n  render() {\n    const { account, showImage } = this.props;\n    const _username = account.user\n      ? account.user.username\n      : null;\n    const _address = account.address;\n    const displayName = _username ? _username : _address.substring(2, MAX_ADDR_LEN + 2).toUpperCase();\n\n    return (\n      <a target=\"_blank\" rel=\"noopener noreferrer\" href={`${OPENSEA_URL}/accounts/${_address}`}>\n        {showImage && account\n          ? <div style={{backgroundImage:'url(\"'+account.image+'\")'}} />\n          : null\n        }\n        <span>{displayName}</span>\n      </a>\n    )\n  }\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport PropTypes from 'prop-types'\nimport { Button, MessageBox } from 'element-react';\nimport { connectWallet, toUnitAmount } from '../../constants';\nimport SalePrice from '../common/SalePrice';\nimport Account from '../Account';\n\nexport default class Box extends React.Component {\n  static propTypes = {\n    artList: PropTypes.array.isRequired,\n    seaport: PropTypes.object.isRequired,\n  }\n\n  state = {\n    display: 'none',\n    left: 0,\n    top: 0,\n    order: undefined,\n    errorMessage: null,\n    creatingOrder: false\n  };\n\n  async fulfillOrder() {\n    const { order } = this.state\n    let { accountAddress } = this.props\n    if (!accountAddress) {\n      await connectWallet()\n      return false\n    }\n    try {\n      this.setState({ creatingOrder: true })\n      console.log(order, accountAddress, 'buying----')\n      // await this.props.seaport.fulfillOrder({ order, accountAddress })\n      const { currentPrice, paymentTokenContract, asset: { tokenId, tokenAddress } } = order\n      const  price = toUnitAmount(currentPrice, paymentTokenContract)\n      await this.props.seaport.createBuyOrder({\n        asset: {\n          tokenId,\n          tokenAddress,\n        },\n        accountAddress,\n        startAmount: parseFloat(price)\n      })\n    } catch(error) {\n      this.onError(error)\n    } finally {\n      this.setState({ creatingOrder: false })\n    }\n  }\n\n  onError(error) {\n    this.setState({ errorMessage: error.message })\n    setTimeout(() => this.setState({errorMessage: null}), 3000)\n    throw error\n  }\n\n  renderBuyButton(canAccept = true) {\n    const { creatingOrder, order } = this.state\n    const { accountAddress } = this.props\n    const buyAsset = async (event) => {\n      event.stopPropagation();\n      event.preventDefault();\n      if (!window.ethereum) {\n        return MessageBox.alert('您还没有安装metamask，无法完成购买', '温馨提示');\n      }\n      if (accountAddress && !canAccept) {\n        this.setState({\n          errorMessage: \"You already own this asset!\"\n        })\n        return\n      }\n      this.fulfillOrder()\n    }\n    return (\n      <Button\n        disabled={creatingOrder}\n        onClick={buyAsset}\n        className=\"buy\"\n        type=\"primary\">\n        \n        Buy{creatingOrder ? \"ing\" : \"\"} for {order && <SalePrice order={order} />}\n\n      </Button>\n    )\n  }\n\n  render() {\n    const { artList, orders } = this.props\n    const { display, left, top, order } = this.state\n\n    const changeActive = async  (pos, event) => {\n      event.stopPropagation();\n      const rect = event.target.getBoundingClientRect()\n      const display = 'block'\n      const leftPos = rect.left - 50 + 'px'\n      const topPos = rect.top - 145 + 'px'\n\n      const order = orders && orders.find(v => v.asset.tokenId === String(pos))\n      this.setState({\n        display,\n        left: leftPos,\n        top: topPos,\n        order\n      })\n    }\n\n    const handleClose = () => {\n      this.setState({\n        display: 'none'\n      })\n    }\n\n    return (\n      <BoxDiv>\n        <div className=\"layout\" onClick={handleClose}>\n          <header>\n            <div className=\"top\"></div>\n            <div className=\"logo\">\n              <img src=\"/logo.png\" alt=\"logo\"/>\n            </div>\n          </header>\n          <div className=\"container-box\">\n            <ul className=\"final\">\n            {artList.map((v, i) => {\n              return <li id={`box${v.pos}`} key={i} style={{background: v.color}} onMouseOver={ e => changeActive(v.pos, e)}/>\n            })}\n            </ul>\n          </div>\n          <div className=\"asset-box\" style={{display: display, left, top}}>\n            <div className=\"con\">\n              <div className=\"inner-con\">\n              {\n                order ?\n                <ul>\n                  <li className=\"name\">\n                  {order.asset.name} #{order.asset.tokenId}\n                  </li>\n                  <li>\n                    Offered By <Account account={order.makerAccount} />\n                  </li>\n                  <li className=\"desc\">\n                    Description: <b>{order.asset.description}</b>\n                  </li>\n                </ul> :\n                <div>Waiting for trading data...</div>\n              }\n                {this.renderBuyButton()}\n              </div>\n            </div>\n          </div>\n        </div>\n      </BoxDiv>\n    )\n  }\n}\n\nconst BoxDiv = styled.div`\n  height: 100%;\n  .layout {\n    height: 93.7%;\n    header {\n      height: 18%;\n    }\n    .top {\n      background: #DE2910;\n      height: 35%;\n    }\n    .logo {\n      height: 65%;\n      img {\n        margin: 0 auto;\n        height: 100%;\n      }\n    }\n    .container-box {\n      width: 50%;\n      height: calc(82% - 80px);\n      margin: 40px auto;\n      position: relative;\n      ul, li {\n        list-style-type: none;\n      }\n      .final {\n        height: 90%;\n        margin: 5% 0;\n        overflow: hidden;\n      }\n      .final {\n        li {\n          float: left;\n          width: calc(10% - 10px);\n          height: calc(10% - 10px);\n          margin: 5px;\n          cursor: pointer;\n        }\n      }\n      #box100 {\n        background: #3C3B6E;\n      }\n    }\n    .orders {\n      li {\n        float: left;\n        width: 100px;\n        margin: 10px;\n        img {\n          width: 100%;\n        }\n      }\n    }\n    .asset-box {\n      position: fixed;\n      top: 100px;\n      left: 50px;\n      width: 220px;\n      height: 150px;\n      display: none;\n      &::before {\n        content: '';\n        display: block;\n        position: absolute;\n        z-index: 99;\n        width: 120px;\n        height: 2px;\n        background: #fff;\n        bottom: 27px;\n        left: 20px;\n      }\n      &::after {\n        content: '';\n        display: block;\n        position: absolute;\n        left: 80px;\n        bottom: 15px;\n        width: 20px;\n        height: 20px;\n        border-left: 2px solid #c00;\n        border-bottom: 2px solid #c00;\n        background: #fff;\n        transform: rotate(-45deg);\n      }\n      .con {\n        width: 100%;\n        height: 100%;\n        background: #fff;\n        border:2px solid #c00;\n        border-radius: 8px;\n        position: relative;\n        text-align: left;\n        overflow: hidden;\n        margin-top: -29px;\n        .inner-con {\n          margin: 10px;\n          height: calc(100% - 10px);\n        }\n      }\n      ul {\n        text-align: left;\n        font-size: 14px;\n        margin: 0;\n        li {\n          height: 22px;\n          line-height: 22px;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          white-space: nowrap;\n          &.name {\n            font-weight: bold;\n          }\n          &.desc {\n            height: 40px;\n            line-height: 22px;\n            white-space: normal;\n          }\n        }\n      }\n      .buy {\n        position: relative;\n        background: #DE2910;\n        border-color: #DE2910;\n        margin-top: 10px;\n        z-index: 999;\n        &.active:focus, &:active:focus {\n          box-shadow: none;\n        }\n      }\n    }\n  }\n`","export function generateBoxes() {\n  let result = getFinalSort(10);\n  // let htmlStr = \"\";\n  let arr = []\n  for (let i = 0; i < result.length; i++) {\n    for (let j = 0; j < result[i].length; j++) {\n      let pos = result[i][j];\n      // console.log(pos + \"\\t\");\n      // htmlStr += `<li id=\"box${pos}\"></li>`;\n      arr.push({ pos })\n    }\n    // console.log(\"\\n\");\n  }\n  // return htmlStr;\n  return arr;\n}\n\nexport function getFinalSort(num) {\n  let ary = [];\n  for (let i = 0; i < 10; i++) {\n    ary[i] = [];\n  }\n  let start = 1;\n\n  for (let i = 1; i < 2 * num; i++) {\n    if (i <= num) {\n      let startPoint = i - 1;\n\n      for (let j = 0; j < i; j++) {\n        ary[startPoint--][j] = start++; // 方向都是从j=0的方向开始\n      }\n    } else {\n      let foot = num - 1;\n      let footEnd = i - num;\n\n      for (let k = 0; k < 2 * num - i; k++) {\n        if (num % 2 === 1) {\n          // 考虑sqrt为奇数和偶数情况\n          if (i % 2 === 1) {\n            // sqrt为奇数，i则为偶数\n            ary[foot--][footEnd++] = start++;\n          } else {\n            ary[footEnd++][foot--] = start++;\n          }\n        } else if (num % 2 === 0) {\n          if (i % 2 === 0) {\n            ary[foot--][footEnd++] = start++;\n          } else {\n            ary[footEnd++][foot--] = start++;\n          }\n        }\n      }\n    }\n  }\n\n  for (let i = 0; i < num; i++) {\n    for (let j = 0; j < num; j++) {\n      // console.log(ary[i][j] + \"\\t\");\n    }\n  }\n  return ary;\n}\n\n// rgb to hex\nexport function rgbToHex(r, g, b) {\n  let hex = ((r << 16) | (g << 8) | b).toString(16);\n  return \"#\" + new Array(Math.abs(hex.length - 7)).join(\"0\") + hex;\n}\n\n// hex to rgb\nexport function hexToRgb(hex) {\n  let rgb = [];\n  for (let i = 1; i < 7; i += 2) {\n    rgb.push(parseInt(\"0x\" + hex.slice(i, i + 2)));\n  }\n  return rgb;\n}\n\n// 计算渐变过渡色\nexport function calcGradient(startColor, endColor, step) {\n  // 将 hex 转换为rgb\n  let sColor = hexToRgb(startColor),\n    eColor = hexToRgb(endColor);\n\n  // 计算R\\G\\B每一步的差值\n  let rStep = (eColor[0] - sColor[0]) / step;\n  let gStep = (eColor[1] - sColor[1]) / step;\n  let bStep = (eColor[2] - sColor[2]) / step;\n\n  let gradientColorArr = [];\n  for (let i = 0; i < step; i++) {\n    // 计算每一步的hex值\n    gradientColorArr.push(\n      rgbToHex(\n        parseInt(rStep * i + sColor[0]),\n        parseInt(gStep * i + sColor[1]),\n        parseInt(bStep * i + sColor[2])\n      )\n    );\n  }\n  return gradientColorArr;\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Loading, Message } from 'element-react';\nimport Box from '../Box'\nimport { generateBoxes, calcGradient } from '../../util';\n\nexport default class Log extends React.Component {\n  static propTypes = {\n    seaport: PropTypes.object.isRequired,\n    accountAddress: PropTypes.string\n  };\n\n  state = {\n    artList: [],\n    orders: undefined,\n    total: 0,\n    side: undefined,\n    onlyBundles: false,\n    page: 1,\n    loading: true\n  };\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  async fetchData() {\n    let artList = generateBoxes()\n\n    let colorArr = calcGradient('#DE2910', '#3C3B6E', 99);\n\n    artList = artList.map(v => {\n      v.color = colorArr[v.pos - 1]\n      return v\n    })\n\n    this.setState({ artList })\n\n    try {\n      const { orders, count } = await this.props.seaport.api.getOrders({\n        owner: '0x9999996A1914831D5c559cf2E305e89158c0c4Bb',\n        side: this.state.side,\n        limit: 100\n        // Possible query options:\n        // 'asset_contract_address'\n        // 'taker'\n        // 'token_id'\n        // 'token_ids'\n        // 'sale_kind'\n      }, this.state.page)\n\n    this.setState({ orders, total: count, loading: false })\n    } catch (error) {\n      console.log(error, 'get orders error')\n      this.setState({ loading: false }, () => {\n        Message.error('Get assets error, please try again');\n      })\n    }\n  }\n\n  render() {\n    const { orders, artList, loading } = this.state\n    const { accountAddress } = this.props\n    return (\n      <div id=\"Log\">\n        <Loading className={orders && 'box-loading'} text=\"Waiting for assets ready...\" fullscreen={true} loading={loading}>\n        <Box artList={artList} orders={orders} seaport={this.props.seaport} accountAddress={accountAddress}/>\n        {/* {orders != null\n        \n          ? <React.Fragment>\n              <div className=\"card-deck\">\n                {orders.map((order, i) => {\n                  return <Order {...this.props} key={i} order={order}  />\n                })}\n              </div>\n            </React.Fragment>\n\n          : <div className=\"text-center\">Loading...</div>\n        } */}\n        </Loading>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport Log from '../Log'\nimport { OpenSeaPort, Network } from 'opensea-js';\nimport { web3Provider, onNetworkUpdate } from '../../constants';\n\nexport default class App extends React.Component {\n\n  state = {\n    accountAddress: null\n  }\n\n  constructor(props) {\n    super(props)\n    this.onChangeAddress()\n    onNetworkUpdate(this.onChangeAddress)\n  }\n\n  onChangeAddress = () => {\n    this.seaport = new OpenSeaPort(web3Provider, {\n      networkName: Network.Main\n    })\n    this.web3 = this.seaport.web3\n    this.web3.eth.getAccounts((err, res) => {\n      this.setState({\n        accountAddress: res[0]\n      })\n    })\n  }\n\n  render() {\n    return (\n      <div>\n        <main>\n          <Log\n            seaport={this.seaport}\n            accountAddress={this.state.accountAddress} />\n        </main>\n        <footer></footer>\n      </div>\n    )\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport { GOOGLE_ANALYTICS_ID } from './constants';\n\nimport 'element-theme-default';\nimport './index.css';\n// Google Analytics loading\nif (process.env.NODE_ENV === \"production\") {\n  window.dataLayer = window.dataLayer || [];\n  function gtag(){window.dataLayer.push(arguments);}\n  gtag('js', new Date());\n  gtag('config', GOOGLE_ANALYTICS_ID);\n} else {\n  console.info(\"Not loading Google Analytics in \" + process.env.NODE_ENV + \" environment\")\n}\n\n// Main render action\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}