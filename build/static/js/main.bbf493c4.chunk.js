(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1079:function(e,n,t){t(1078),e.exports=t(367)},367:function(e,n,t){"use strict";t.r(n);var r=t(2),o=t.n(r),a=t(17),i=t.n(a),u=t(30),c=t.n(u),s=t(97),l=t(166),f=t(363),p=t(119),d=t.n(p),h=t(362);function y(e){return function(){var n=this,t=arguments;return new Promise(function(r,o){var a=e.apply(n,t);function i(e,n){try{var t=a[e](n),i=t.value}catch(e){return void o(e)}t.done?r(i):Promise.resolve(i).then(u,c)}function u(e){i("next",e)}function c(e){i("throw",e)}u()})}}var m=18,b="undefined"!==typeof web3?window.web3.currentProvider:new f.providers.HttpProvider("https://mainnet.infura.io"),v=[],g=function(e){v.push(e)};function w(){return x.apply(this,arguments)}function x(){return(x=y(c.a.mark(function e(){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(window.web3){e.next=4;break}b=new h.PortisProvider({}),e.next=12;break;case 4:if(!window.ethereum){e.next=9;break}return e.next=7,window.ethereum.enable();case 7:e.next=12;break;case 9:throw n="You need an Ethereum wallet to interact with this marketplace. Unlock your wallet, get MetaMask.io or Portis on desktop, or get Trust Wallet or Coinbase Wallet on mobile.",alert(n),new Error(n);case 12:v.map(function(e){return e(b)});case 13:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var E=function(e,n){n||(n=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}(["\n  img {\n    height: 15px !important;\n  }\n"]);function k(e){return(k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,n){return(S=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function O(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,n){return!n||"object"!==k(n)&&"function"!==typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function P(e){return(P=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var j=function(e){function n(){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),_(this,P(n).apply(this,arguments))}var t,r,a;return t=n,(r=[{key:"render",value:function(){var e=this.props.order,n=e.currentPrice,t=e.paymentTokenContract,r=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=n&&null!=n.decimals?n.decimals:m;return new d.a(e.toString()).div(new d.a(10).pow(t))}(n,t),a=parseFloat(r).toLocaleString(void 0,{minimumSignificantDigits:1}),i="ETH"===t.symbol;return o.a.createElement(C,null,i?"\u039e":null,a," ",i?null:t.symbol)}}])&&O(t.prototype,r),a&&O(t,a),function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");S(e.prototype,n&&n.prototype),n&&S(e,n)}(n,e),n}(o.a.Component),C=l.a.span(E);function A(e){return(A="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,n){return(B=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function N(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,n){return!n||"object"!==A(n)&&"function"!==typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function D(e){return(D=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var M=function(e){function n(){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),T(this,D(n).apply(this,arguments))}var t,r,a;return t=n,(r=[{key:"render",value:function(){var e=this.props,n=e.account,t=e.showImage,r=n.user?n.user.username:null,a=n.address,i=r||a.substring(2,8).toUpperCase();return o.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"".concat("https://opensea.io","/accounts/").concat(a)},t&&n?o.a.createElement("div",{style:{backgroundImage:'url("'+n.image+'")'}}):null,o.a.createElement("span",null,i))}}])&&N(t.prototype,r),a&&N(t,a),function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");B(e.prototype,n&&n.prototype),n&&B(e,n)}(n,e),n}(o.a.Component),L=function(e,n){n||(n=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}(["\n  height: 100%;\n  .layout {\n    height: 93.7%;\n    header {\n      height: 18%;\n    }\n    .top {\n      background: #DE2910;\n      height: 35%;\n    }\n    .logo {\n      height: 65%;\n      img {\n        margin: 0 auto;\n        height: 100%;\n      }\n    }\n    .container-box {\n      width: 50%;\n      height: calc(82% - 80px);\n      margin: 40px auto;\n      position: relative;\n      ul, li {\n        list-style-type: none;\n      }\n      .final {\n        height: 90%;\n        margin: 5% 0;\n        overflow: hidden;\n      }\n      .final {\n        li {\n          float: left;\n          width: calc(10% - 10px);\n          height: calc(10% - 10px);\n          margin: 5px;\n          cursor: pointer;\n        }\n      }\n      #box100 {\n        background: #3C3B6E;\n      }\n    }\n    .orders {\n      li {\n        float: left;\n        width: 100px;\n        margin: 10px;\n        img {\n          width: 100%;\n        }\n      }\n    }\n    .asset-box {\n      position: fixed;\n      top: 100px;\n      left: 50px;\n      width: 220px;\n      height: 150px;\n      display: none;\n      &::before {\n        content: '';\n        display: block;\n        position: absolute;\n        z-index: 99;\n        width: 120px;\n        height: 2px;\n        background: #fff;\n        bottom: 27px;\n        left: 20px;\n      }\n      &::after {\n        content: '';\n        display: block;\n        position: absolute;\n        left: 80px;\n        bottom: 15px;\n        width: 20px;\n        height: 20px;\n        border-left: 2px solid #c00;\n        border-bottom: 2px solid #c00;\n        background: #fff;\n        transform: rotate(-45deg);\n      }\n      .con {\n        width: 100%;\n        height: 100%;\n        background: #fff;\n        border:2px solid #c00;\n        border-radius: 8px;\n        position: relative;\n        text-align: left;\n        overflow: hidden;\n        margin-top: -29px;\n        .inner-con {\n          margin: 10px;\n          height: calc(100% - 10px);\n        }\n      }\n      ul {\n        text-align: left;\n        font-size: 14px;\n        margin: 0;\n        li {\n          height: 22px;\n          line-height: 22px;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          white-space: nowrap;\n          &.name {\n            font-weight: bold;\n          }\n          &.desc {\n            height: 40px;\n            line-height: 22px;\n            white-space: normal;\n          }\n        }\n      }\n      .buy {\n        position: relative;\n        background: #DE2910;\n        border-color: #DE2910;\n        margin-top: 10px;\n        z-index: 999;\n        &.active:focus, &:active:focus {\n          box-shadow: none;\n        }\n      }\n    }\n  }\n"]);function I(e){return(I="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e){return function(){var n=this,t=arguments;return new Promise(function(r,o){var a=e.apply(n,t);function i(e,n){try{var t=a[e](n),i=t.value}catch(e){return void o(e)}t.done?r(i):Promise.resolve(i).then(u,c)}function u(e){i("next",e)}function c(e){i("throw",e)}u()})}}function R(e,n){return(R=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function W(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,n){return!n||"object"!==I(n)&&"function"!==typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function H(e){return(H=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var J=function(e){function n(){var e,t,r;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return U(r,(t=r=U(this,(e=H(n)).call.apply(e,[this].concat(a))),r.state={display:"none",left:0,top:0,order:void 0,errorMessage:null,creatingOrder:!1},t))}var t,r,a,i;return t=n,(r=[{key:"fulfillOrder",value:(i=z(c.a.mark(function e(){var n,t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.state.order,t=this.props.accountAddress){e.next=6;break}return e.next=5,w();case 5:return e.abrupt("return",!1);case 6:return e.prev=6,this.setState({creatingOrder:!0}),console.log(n,t,"buying----"),e.next=11,this.props.seaport.fulfillOrder({order:n,accountAddress:t});case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),this.onError(e.t0);case 16:return e.prev=16,this.setState({creatingOrder:!1}),e.finish(16);case 19:case"end":return e.stop()}},e,this,[[6,13,16,19]])})),function(){return i.apply(this,arguments)})},{key:"onError",value:function(e){var n=this;throw this.setState({errorMessage:e.message}),setTimeout(function(){return n.setState({errorMessage:null})},3e3),e}},{key:"renderBuyButton",value:function(){var e=this,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.state,r=t.creatingOrder,a=t.order,i=this.props.accountAddress,u=function(){var t=z(c.a.mark(function t(r){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.stopPropagation(),r.preventDefault(),window.ethereum){t.next=4;break}return t.abrupt("return",s.MessageBox.alert("\u60a8\u8fd8\u6ca1\u6709\u5b89\u88c5metamask\uff0c\u65e0\u6cd5\u5b8c\u6210\u8d2d\u4e70","\u6e29\u99a8\u63d0\u793a"));case 4:if(!i||n){t.next=7;break}return e.setState({errorMessage:"You already own this asset!"}),t.abrupt("return");case 7:e.fulfillOrder();case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}();return o.a.createElement(s.Button,{disabled:r,onClick:u,className:"buy",type:"primary"},"Buy",r?"ing":""," for ",a&&o.a.createElement(j,{order:a}))}},{key:"render",value:function(){var e=this,n=this.props,t=n.artList,r=n.orders,a=this.state,i=a.display,u=a.left,s=a.top,l=a.order,f=function(){var n=z(c.a.mark(function n(t,o){var a,i,u,s,l;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:o.stopPropagation(),a=o.target.getBoundingClientRect(),i="block",u=a.left-50+"px",s=a.top-145+"px",l=r&&r.find(function(e){return e.asset.tokenId===String(t)}),e.setState({display:i,left:u,top:s,order:l});case 7:case"end":return n.stop()}},n,this)}));return function(e,t){return n.apply(this,arguments)}}();return o.a.createElement(Y,null,o.a.createElement("div",{className:"layout",onClick:function(){e.setState({display:"none"})}},o.a.createElement("header",null,o.a.createElement("div",{className:"top"}),o.a.createElement("div",{className:"logo"},o.a.createElement("img",{src:"/logo.png",alt:"logo"}))),o.a.createElement("div",{className:"container-box"},o.a.createElement("ul",{className:"final"},t.map(function(e,n){return o.a.createElement("li",{id:"box".concat(e.pos),key:n,style:{background:e.color},onMouseOver:function(n){return f(e.pos,n)}})}))),o.a.createElement("div",{className:"asset-box",style:{display:i,left:u,top:s}},o.a.createElement("div",{className:"con"},o.a.createElement("div",{className:"inner-con"},l?o.a.createElement("ul",null,o.a.createElement("li",{className:"name"},l.asset.name," #",l.asset.tokenId),o.a.createElement("li",null,"Offered By ",o.a.createElement(M,{account:l.makerAccount})),o.a.createElement("li",{className:"desc"},"Description: ",o.a.createElement("b",null,l.asset.description))):o.a.createElement("div",null,"Waiting for trading data..."),this.renderBuyButton())))))}}])&&W(t.prototype,r),a&&W(t,a),function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");R(e.prototype,n&&n.prototype),n&&R(e,n)}(n,e),n}(o.a.Component),Y=l.a.div(L);function F(){for(var e=function(e){for(var n=[],t=0;t<10;t++)n[t]=[];for(var r=1,o=1;o<2*e;o++)if(o<=e)for(var a=o-1,i=0;i<o;i++)n[a--][i]=r++;else for(var u=e-1,c=o-e,s=0;s<2*e-o;s++)e%2===1?o%2===1?n[u--][c++]=r++:n[c++][u--]=r++:e%2===0&&(o%2===0?n[u--][c++]=r++:n[c++][u--]=r++);for(var l=0;l<e;l++)for(var f=0;f<e;f++);return n}(10),n=[],t=0;t<e.length;t++)for(var r=0;r<e[t].length;r++){var o=e[t][r];n.push({pos:o})}return n}function G(e){for(var n=[],t=1;t<7;t+=2)n.push(parseInt("0x"+e.slice(t,t+2)));return n}function q(e,n,t){for(var r,o,a,i,u=G(e),c=G(n),s=(c[0]-u[0])/t,l=(c[1]-u[1])/t,f=(c[2]-u[2])/t,p=[],d=0;d<t;d++)p.push((r=parseInt(s*d+u[0]),o=parseInt(l*d+u[1]),a=parseInt(f*d+u[2]),void 0,i=(r<<16|o<<8|a).toString(16),"#"+new Array(Math.abs(i.length-7)).join("0")+i));return p}function K(e){return(K="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,n){return(Q=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function V(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e,n){return!n||"object"!==K(n)&&"function"!==typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function Z(e){return(Z=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var $=function(e){function n(){var e,t,r;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return X(r,(t=r=X(this,(e=Z(n)).call.apply(e,[this].concat(a))),r.state={artList:[],orders:void 0,total:0,side:void 0,onlyBundles:!1,page:1,loading:!0},t))}var t,r,a,i,u;return t=n,(r=[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"fetchData",value:(i=c.a.mark(function e(){var n,t,r,o,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=F(),t=q("#DE2910","#3C3B6E",99),n=n.map(function(e){return e.color=t[e.pos-1],e}),this.setState({artList:n}),e.prev=4,e.next=7,this.props.seaport.api.getOrders({owner:"0x9999996A1914831D5c559cf2E305e89158c0c4Bb",side:this.state.side,limit:100},this.state.page);case 7:r=e.sent,o=r.orders,a=r.count,this.setState({orders:o,total:a,loading:!1}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(4),console.log(e.t0,"get orders error"),this.setState({loading:!1},function(){s.Message.error("Get assets error, please try again")});case 17:case"end":return e.stop()}},e,this,[[4,13]])}),u=function(){var e=this,n=arguments;return new Promise(function(t,r){var o=i.apply(e,n);function a(e,n){try{var a=o[e](n),i=a.value}catch(e){return void r(e)}a.done?t(i):Promise.resolve(i).then(u,c)}function u(e){a("next",e)}function c(e){a("throw",e)}u()})},function(){return u.apply(this,arguments)})},{key:"render",value:function(){var e=this.state,n=e.orders,t=e.artList,r=e.loading,a=this.props.accountAddress;return o.a.createElement("div",{id:"Log"},o.a.createElement(s.Loading,{className:n&&"box-loading",text:"Waiting for assets ready...",fullscreen:!0,loading:r},o.a.createElement(J,{artList:t,orders:n,seaport:this.props.seaport,accountAddress:a})))}}])&&V(t.prototype,r),a&&V(t,a),function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");Q(e.prototype,n&&n.prototype),n&&Q(e,n)}(n,e),n}(o.a.Component),ee=t(213);function ne(e){return(ne="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e,n){return(te=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function re(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oe(e,n){return!n||"object"!==ne(n)&&"function"!==typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function ae(e){return(ae=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var ie=function(e){function n(e){var t;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(t=oe(this,ae(n).call(this,e))).state={accountAddress:null},t.onChangeAddress=function(){t.seaport=new ee.OpenSeaPort(b,{networkName:ee.Network.Main}),t.web3=t.seaport.web3,t.web3.eth.getAccounts(function(e,n){t.setState({accountAddress:n[0]})})},t.onChangeAddress(),g(t.onChangeAddress),t}var t,r,a;return t=n,(r=[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("main",null,o.a.createElement($,{seaport:this.seaport,accountAddress:this.state.accountAddress})),o.a.createElement("footer",null))}}])&&re(t.prototype,r),a&&re(t,a),function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");te(e.prototype,n&&n.prototype),n&&te(e,n)}(n,e),n}(o.a.Component),ue=(t(371),t(369),function(){window.dataLayer.push(arguments)});window.dataLayer=window.dataLayer||[],ue("js",new Date),ue("config","UA-111688253-4"),i.a.render(o.a.createElement(ie,null),document.getElementById("root"))},369:function(e,n,t){},711:function(e,n){},756:function(e,n){},783:function(e,n){},785:function(e,n){}},[[1079,0,1]]]);
//# sourceMappingURL=main.bbf493c4.chunk.js.map