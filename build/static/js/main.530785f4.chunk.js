(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1079:function(e,t,n){n(1078),e.exports=n(367)},367:function(e,t,n){"use strict";n.r(t);var r=n(2),o=n.n(r),a=n(17),i=n.n(a),u=n(30),c=n.n(u),s=n(97),l=n(166),f=n(363),p=n(119),d=n.n(p),h=n(362);function y(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e,t){try{var n=a[e](t),i=n.value}catch(e){return void o(e)}n.done?r(i):Promise.resolve(i).then(u,c)}function u(e){i("next",e)}function c(e){i("throw",e)}u()})}}var m=18,b="undefined"!==typeof web3?window.web3.currentProvider:new f.providers.HttpProvider("https://mainnet.infura.io"),v=[],g=function(e){v.push(e)};function w(){return x.apply(this,arguments)}function x(){return(x=y(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(window.web3){e.next=4;break}b=new h.PortisProvider({}),e.next=12;break;case 4:if(!window.ethereum){e.next=9;break}return e.next=7,window.ethereum.enable();case 7:e.next=12;break;case 9:throw t="You need an Ethereum wallet to interact with this marketplace. Unlock your wallet, get MetaMask.io or Portis on desktop, or get Trust Wallet or Coinbase Wallet on mobile.",alert(t),new Error(t);case 12:v.map(function(e){return e(b)});case 13:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=t&&null!=t.decimals?t.decimals:m;return new d.a(e.toString()).div(new d.a(10).pow(n))}var E=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  img {\n    height: 15px !important;\n  }\n"]);function S(e){return(S="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return!t||"object"!==S(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function j(e){return(j=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var C=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),P(this,j(t).apply(this,arguments))}var n,r,a;return n=t,(r=[{key:"render",value:function(){var e=this.props.order,t=e.currentPrice,n=e.paymentTokenContract,r=k(t,n),a=(parseFloat(r)+.01).toFixed(2).toLocaleString(void 0,{minimumSignificantDigits:1}),i="ETH"===n.symbol;return o.a.createElement(A,null,i?"\u039e":null,a," ",i?null:n.symbol)}}])&&_(n.prototype,r),a&&_(n,a),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");O(e.prototype,t&&t.prototype),t&&O(e,t)}(t,e),t}(o.a.Component),A=l.a.span(E);function B(e){return(B="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t){return!t||"object"!==B(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function M(e){return(M=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var I=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),D(this,M(t).apply(this,arguments))}var n,r,a;return n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.account,n=e.showImage,r=t.user?t.user.username:null,a=t.address,i=r||a.substring(2,8).toUpperCase();return o.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"".concat("https://opensea.io","/accounts/").concat(a)},n&&t?o.a.createElement("div",{style:{backgroundImage:'url("'+t.image+'")'}}):null,o.a.createElement("span",null,i))}}])&&N(n.prototype,r),a&&N(n,a),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");T(e.prototype,t&&t.prototype),t&&T(e,t)}(t,e),t}(o.a.Component),L=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  height: 100%;\n  .layout {\n    height: 93.7%;\n    header {\n      height: 18%;\n    }\n    .top {\n      background: #DE2910;\n      height: 35%;\n    }\n    .logo {\n      height: 65%;\n      img {\n        margin: 0 auto;\n        height: 100%;\n      }\n    }\n    .container-box {\n      width: 50%;\n      height: calc(82% - 80px);\n      margin: 40px auto;\n      position: relative;\n      ul, li {\n        list-style-type: none;\n      }\n      .final {\n        height: 90%;\n        margin: 5% 0;\n        overflow: hidden;\n      }\n      .final {\n        li {\n          float: left;\n          width: calc(10% - 10px);\n          height: calc(10% - 10px);\n          margin: 5px;\n          cursor: pointer;\n        }\n      }\n      #box100 {\n        background: #3C3B6E;\n      }\n    }\n    .orders {\n      li {\n        float: left;\n        width: 100px;\n        margin: 10px;\n        img {\n          width: 100%;\n        }\n      }\n    }\n    .asset-box {\n      position: fixed;\n      top: 100px;\n      left: 50px;\n      width: 220px;\n      height: 150px;\n      display: none;\n      &::before {\n        content: '';\n        display: block;\n        position: absolute;\n        z-index: 99;\n        width: 120px;\n        height: 2px;\n        background: #fff;\n        bottom: 27px;\n        left: 20px;\n      }\n      &::after {\n        content: '';\n        display: block;\n        position: absolute;\n        left: 80px;\n        bottom: 15px;\n        width: 20px;\n        height: 20px;\n        border-left: 2px solid #c00;\n        border-bottom: 2px solid #c00;\n        background: #fff;\n        transform: rotate(-45deg);\n      }\n      .con {\n        width: 100%;\n        height: 100%;\n        background: #fff;\n        border:2px solid #c00;\n        border-radius: 8px;\n        position: relative;\n        text-align: left;\n        overflow: hidden;\n        margin-top: -29px;\n        .inner-con {\n          margin: 10px;\n          height: calc(100% - 10px);\n        }\n      }\n      ul {\n        text-align: left;\n        font-size: 14px;\n        margin: 0;\n        li {\n          height: 22px;\n          line-height: 22px;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          white-space: nowrap;\n          &.name {\n            font-weight: bold;\n          }\n          &.desc {\n            height: 40px;\n            line-height: 22px;\n            white-space: normal;\n          }\n        }\n      }\n      .buy {\n        position: relative;\n        background: #DE2910;\n        border-color: #DE2910;\n        margin-top: 10px;\n        z-index: 999;\n        &.active:focus, &:active:focus {\n          box-shadow: none;\n        }\n      }\n    }\n  }\n"]);function z(e){return(z="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e,t){try{var n=a[e](t),i=n.value}catch(e){return void o(e)}n.done?r(i):Promise.resolve(i).then(u,c)}function u(e){i("next",e)}function c(e){i("throw",e)}u()})}}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t){return!t||"object"!==z(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function H(e){return(H=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var J=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return U(r,(n=r=U(this,(e=H(t)).call.apply(e,[this].concat(a))),r.state={display:"none",left:0,top:0,order:void 0,errorMessage:null,creatingOrder:!1},n))}var n,r,a,i;return n=t,(r=[{key:"fulfillOrder",value:(i=R(c.a.mark(function e(){var t,n,r,o,a,i,u,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state.order,n=this.props.accountAddress){e.next=6;break}return e.next=5,w();case 5:return e.abrupt("return",!1);case 6:return e.prev=6,this.setState({creatingOrder:!0}),console.log(t,n,"buying----"),r=t.currentPrice,o=t.paymentTokenContract,a=t.asset,i=a.tokenId,u=a.tokenAddress,s=k(r,o),e.next=13,this.props.seaport.createBuyOrder({asset:{tokenId:i,tokenAddress:u},accountAddress:n,startAmount:parseFloat(s)+.01});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(6),this.onError(e.t0);case 18:return e.prev=18,this.setState({creatingOrder:!1}),e.finish(18);case 21:case"end":return e.stop()}},e,this,[[6,15,18,21]])})),function(){return i.apply(this,arguments)})},{key:"onError",value:function(e){var t=this;throw this.setState({errorMessage:e.message}),setTimeout(function(){return t.setState({errorMessage:null})},3e3),e}},{key:"renderBuyButton",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this.state,r=n.creatingOrder,a=n.order,i=this.props.accountAddress,u=function(){var n=R(c.a.mark(function n(r){return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r.stopPropagation(),r.preventDefault(),window.ethereum){n.next=4;break}return n.abrupt("return",s.MessageBox.alert("\u60a8\u8fd8\u6ca1\u6709\u5b89\u88c5metamask\uff0c\u65e0\u6cd5\u5b8c\u6210\u8d2d\u4e70","\u6e29\u99a8\u63d0\u793a"));case 4:if(!i||t){n.next=7;break}return e.setState({errorMessage:"You already own this asset!"}),n.abrupt("return");case 7:e.fulfillOrder();case 8:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}();return o.a.createElement(s.Button,{disabled:r,onClick:u,loading:r,className:"buy",type:"primary"},"Buy",r?"ing":""," for ",a&&o.a.createElement(C,{order:a}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.artList,r=t.orders,a=this.state,i=a.display,u=a.left,s=a.top,l=a.order,f=function(){var t=R(c.a.mark(function t(n,o){var a,i,u,s,l;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o.stopPropagation(),a=o.target.getBoundingClientRect(),i="block",u=a.left-50+"px",s=a.top-145+"px",l=r&&r.find(function(e){return e.asset.tokenId===String(n)}),e.setState({display:i,left:u,top:s,order:l});case 7:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}();return o.a.createElement(Y,null,o.a.createElement("div",{className:"layout",onClick:function(){e.setState({display:"none"})}},o.a.createElement("header",null,o.a.createElement("div",{className:"top"}),o.a.createElement("div",{className:"logo"},o.a.createElement("img",{src:"/logo.png",alt:"logo"}))),o.a.createElement("div",{className:"container-box"},o.a.createElement("ul",{className:"final"},n.map(function(e,t){return o.a.createElement("li",{id:"box".concat(e.pos),key:t,style:{background:e.color},onMouseOver:function(t){return f(e.pos,t)}})}))),o.a.createElement("div",{className:"asset-box",style:{display:i,left:u,top:s}},o.a.createElement("div",{className:"con"},o.a.createElement("div",{className:"inner-con"},l?o.a.createElement("ul",null,o.a.createElement("li",{className:"name"},l.asset.name," #",l.asset.tokenId),o.a.createElement("li",null,"Offered By ",o.a.createElement(I,{account:l.makerAccount})),o.a.createElement("li",{className:"desc"},"Description: ",o.a.createElement("b",null,l.asset.description))):o.a.createElement("div",null,"Waiting for trading data..."),this.renderBuyButton())))))}}])&&F(n.prototype,r),a&&F(n,a),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");W(e.prototype,t&&t.prototype),t&&W(e,t)}(t,e),t}(o.a.Component),Y=l.a.div(L);function G(){for(var e=function(e){for(var t=[],n=0;n<10;n++)t[n]=[];for(var r=1,o=1;o<2*e;o++)if(o<=e)for(var a=o-1,i=0;i<o;i++)t[a--][i]=r++;else for(var u=e-1,c=o-e,s=0;s<2*e-o;s++)e%2===1?o%2===1?t[u--][c++]=r++:t[c++][u--]=r++:e%2===0&&(o%2===0?t[u--][c++]=r++:t[c++][u--]=r++);for(var l=0;l<e;l++)for(var f=0;f<e;f++);return t}(10),t=[],n=0;n<e.length;n++)for(var r=0;r<e[n].length;r++){var o=e[n][r];t.push({pos:o})}return t}function q(e){for(var t=[],n=1;n<7;n+=2)t.push(parseInt("0x"+e.slice(n,n+2)));return t}function K(e,t,n){for(var r,o,a,i,u=q(e),c=q(t),s=(c[0]-u[0])/n,l=(c[1]-u[1])/n,f=(c[2]-u[2])/n,p=[],d=0;d<n;d++)p.push((r=parseInt(s*d+u[0]),o=parseInt(l*d+u[1]),a=parseInt(f*d+u[2]),void 0,i=(r<<16|o<<8|a).toString(16),"#"+new Array(Math.abs(i.length-7)).join("0")+i));return p}function Q(e){return(Q="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e,t){return!t||"object"!==Q(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $(e){return($=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var ee=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return Z(r,(n=r=Z(this,(e=$(t)).call.apply(e,[this].concat(a))),r.state={artList:[],orders:void 0,total:0,side:void 0,onlyBundles:!1,page:1,loading:!0},n))}var n,r,a,i,u;return n=t,(r=[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"fetchData",value:(i=c.a.mark(function e(){var t,n,r,o,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=G(),n=K("#DE2910","#3C3B6E",99),t=t.map(function(e){return e.color=n[e.pos-1],e}),this.setState({artList:t}),e.prev=4,e.next=7,this.props.seaport.api.getOrders({owner:"0x9999996A1914831D5c559cf2E305e89158c0c4Bb",side:this.state.side,limit:100},this.state.page);case 7:r=e.sent,o=r.orders,a=r.count,this.setState({orders:o,total:a,loading:!1}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(4),console.log(e.t0,"get orders error"),this.setState({loading:!1},function(){Object(s.Message)({showClose:!0,message:"Get assets error, please try again",type:"error",duration:0})});case 17:case"end":return e.stop()}},e,this,[[4,13]])}),u=function(){var e=this,t=arguments;return new Promise(function(n,r){var o=i.apply(e,t);function a(e,t){try{var a=o[e](t),i=a.value}catch(e){return void r(e)}a.done?n(i):Promise.resolve(i).then(u,c)}function u(e){a("next",e)}function c(e){a("throw",e)}u()})},function(){return u.apply(this,arguments)})},{key:"render",value:function(){var e=this.state,t=e.orders,n=e.artList,r=e.loading,a=this.props.accountAddress;return o.a.createElement("div",{id:"Log"},o.a.createElement(s.Loading,{className:t&&"box-loading",text:"Waiting for assets ready...",fullscreen:!0,loading:r},o.a.createElement(J,{artList:n,orders:t,seaport:this.props.seaport,accountAddress:a})))}}])&&X(n.prototype,r),a&&X(n,a),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");V(e.prototype,t&&t.prototype),t&&V(e,t)}(t,e),t}(o.a.Component),te=n(213);function ne(e){return(ne="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(e,t){return(re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ae(e,t){return!t||"object"!==ne(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ie(e){return(ie=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var ue=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=ae(this,ie(t).call(this,e))).state={accountAddress:null},n.onChangeAddress=function(){n.seaport=new te.OpenSeaPort(b,{networkName:te.Network.Main}),n.web3=n.seaport.web3,n.web3.eth.getAccounts(function(e,t){n.setState({accountAddress:t[0]})})},n.onChangeAddress(),g(n.onChangeAddress),n}var n,r,a;return n=t,(r=[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("main",null,o.a.createElement(ee,{seaport:this.seaport,accountAddress:this.state.accountAddress})),o.a.createElement("footer",null))}}])&&oe(n.prototype,r),a&&oe(n,a),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");re(e.prototype,t&&t.prototype),t&&re(e,t)}(t,e),t}(o.a.Component),ce=(n(371),n(369),function(){window.dataLayer.push(arguments)});window.dataLayer=window.dataLayer||[],ce("js",new Date),ce("config","UA-111688253-4"),i.a.render(o.a.createElement(ue,null),document.getElementById("root"))},369:function(e,t,n){},711:function(e,t){},756:function(e,t){},783:function(e,t){},785:function(e,t){}},[[1079,0,1]]]);
//# sourceMappingURL=main.530785f4.chunk.js.map